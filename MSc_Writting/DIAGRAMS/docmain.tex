\documentclass[11pt, a4paper]{article}

% --- STANDARD PACKAGES ---
\usepackage[margin=1in]{geometry}
\usepackage{amsmath, amssymb, amsfonts}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}

\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{csquotes}
\usepackage{graphicx}
\usepackage{xcolor}
\definecolor{thesisblue}{RGB}{20, 68, 106}
\definecolor{thesisgray}{RGB}{80, 80, 80}
\usepackage{lmodern}
\usepackage{microtype}
\usepackage{amsmath}   % For advanced math typesetting
\usepackage{array}
\usepackage{amssymb}   % For math symbols
\usepackage{amsfonts}  % For math fonts
\usepackage{multicol}  % For two-column list of abbreviations
\usepackage{booktabs}  % For professional-looking tables
\usepackage{tabularx}

\usepackage{enumitem}  % For customized lists (e.g., itemize, enumerate)
\usepackage{lipsum}    % For dummy text 
\usepackage{caption}
\usepackage{subcaption}
\usepackage{colortbl}
\usepackage{longtable} % For tables spanning multiple pages
\usepackage{lscape}    % Optional: For landscape tables if the table is extremely wide

\usepackage{pgfplots}  % For plotting functions
\usepgfplotslibrary{groupplots}
\pgfplotsset{compat=1.18} 
\usepackage{float}

\usepackage{etoolbox}
\usepackage{xcolor} 
\usepackage{tabularray}

% --- TIKZ PACKAGES & LIBRARIES ---
\usepackage{tikz}
\usetikzlibrary{
    positioning,
    fit,
    arrows.meta,
    shapes.geometric,
    calc,
    matrix,
    patterns,
    shadows,
    backgrounds,
    decorations.pathreplacing,
    shapes.misc
}

% --- CUSTOM TIKZ STYLES (plotneuralnet inspired) ---
\tikzset{
    % For 3D-like convolutional layers
    cuboid/.style={
        shape=trapezium,
        trapezium left angle=70,
        trapezium right angle=-70,
        shape border rotate=90,
        minimum width=2.2cm,
        minimum height=1cm,
        draw, thick,
        align=center,
        font=\small
    },
    % Default cuboid color (Frozen)
    cuboidfill/.style={
        fill=blue!20
    },
    % Style for trainable components (sets cuboid color to orange)
    trainable/.style={
        fill=orange!30
    },
    % Style for generic blocks
    block/.style={
        rectangle, draw, thick,
        minimum width=3cm, minimum height=1.5cm, align=center,
        rounded corners=3pt
    },
    % Standard block for operations
    op/.style={
        circle, draw, thick, fill=gray!10, minimum size=0.8cm
    },
    % Main arrows for data flow
    arrow/.style={
        -Stealth, thick, draw=black!80
    },
    % Orange LoRA arrows
    loraarrow/.style={
        -Stealth, thick, draw=orange!80!black
    },
    % Dashed highlight around LoRA path
    lorabox/.style={
        draw=orange!70!black, dashed, thick,
        inner sep=6pt, rounded corners
    },
    % Title for a diagram section
    blocktitle/.style={
        font=\sffamily\bfseries\small, text=black!90
    }, 
    outnode/.style={
        rectangle, draw, fill=blue!10, rounded corners, minimum height=1cm
    }
}

\begin{document}

\section*{Diagram Library}

\input{convolution}
\vspace{2cm}

\input{max-pooling}
\vspace{2cm}

\input{lora}
\vspace{2cm}

\input{adapted_block}
\vspace{2cm}

\input{full_backbone}
\vspace{2cm}

\input{detection_head}
\vspace{2cm}

\input{heatmap_head}
\vspace{2cm}

\input{segmentation_head}
\vspace{2cm}

\input{classif_head}

\end{document}